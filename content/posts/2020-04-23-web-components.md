---
title: 'ููุฏูุฉ ุฅูู Web Components'
date: 2020-04-23
slug: 'web-components'
template: 'post'
categories:
  - ุฌุงูุง ุณูุฑูุจุช
tags:
  - Browser
  - React.js
  - angular
  - Stencil
thumbnail: '../thumbnails/dom.png'
---

ูููุฉ **ุงูููููุงุช** ุฃู **Components** ุฃุตุจุญูุง ูุณูุน ุจูุง ุจุดูู ูุจูุฑ ูู ูู ููุงู ุจูุฌุงู ุชุทููุฑ ุงูููุจ. ูุฐุง ุงูููููู ุจุงุช ุฌุฒุกูุง ุฃุณุงุณูุง ูู ุตูุฏูู ุฃุฏูุงุช ุจูุงุก ุชุทุจููุงุช ุงูููุจ ุงูุญุฏูุซุฉ.

ููุตุฏ ุจููููุงุช ุงูููุจ ุฃุฌุฒุงุก ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุณุชููุฉ ุจุฐุงุชูุง ููุณุคููุฉ ุนู ููุงู ูุญุฏุฏุฉ ููุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุฅุณุชุฎุฏุงู ูู ุฃูุซุฑ ูู ููุงู.

ูุฐู ุงูููููุงุช ุชุดูู ูู ุงูููุงูุฉ ูุนุง ุงููุธุงู ุงููุงููุ ูุนูุฏ ุญุฏูุซ ุนุทู ุฃู ุฎุทุฃ ูู ุฌุฒุก ูุนูู ูู ุฃุฌุฒุงุก ูุฐุง ุงููุธุงู ูููู ุฃู ูููู ุจุฅุฌุฑุงุก ุงูุฅุตูุงุญุงุช ุนูู ุงููููู ุงููุณุคูู ุนู ุฐูู ุงูุฌุฒุก ุจูุนุฒู ุนู ุจุงูู ุงูููููุงุช.

ููุฑุฉ ุงูููููุงุช ูู ูุณุจู ุฅูููุง ูุทูุฑู ุงูููุจุ ุจู ููุง ูุฌูุฏ ูุฏูู ูู ูุซูุฑ ูู ุงููุฌุงูุงุช ูุซู ุงูุตูุงุนุงุช ุงููููุงููููุฉ ุนูู ุณุจูู ุงูุฐูุฑ ูุง ุงูุญุตุฑ.

ููููููุง ุฃู ูุณุชุฏุนู ููุง ูุซุงู ูุญุฑู ุงูุณูุงุฑุฉ ุงูุฐู ูุชุฑูุจ ูู ุนุดุฑุงุช ุงูููููุงุช ูุงููุทุน ุงูุตุบูุฑุฉุ ููู ูุทุนุฉ ูุณุคููุฉ ุนู ูุนู ูุนูู ูุง ุชุชุฌุงูุฒู. ููููููุง ุงูุชูุงุนู ูุงูุนูู ูุน ุจุงูู ุงูุฃุฌุฒุงุก ุจุดูู ูุชูุงุบู ูุณูุณ ูุถูุงู ุนูู ุงููุธุงู (ุงููุญุฑู) ูู ุฏูู ูุดุงูู.

![ุฃุฌุฒุงุก ูุญุฑู ุงูุณูุงุฑุฉ](../images/car-engine.png)

ุจููุณ ุงูุทุฑููุฉ ูููู ุชูุณูู ูุงุฌูุงุช ุงููุณุชุฎุฏู ูู ุชุทุจููุงุช ุงูููุจ ุฅูู ุนุฏุฉ ููููุงุชุ ููู ูููู ูููู ุฃู ุชุชูุฑุน ุนูู ููููุงุช ุฃุตุบุฑ ูุฃุจุณุท.

![ูุซุงู ูุงุฌูุฉ ุงููุณุชุฎุฏู ูู ุชููุชุฑ](../images/twitter-ui-example.png)

ููุง ูุฑู ูู ูุฐู ุงูุตูุฑุฉุ ููุงู ุนุฏุฉ ููููุงุช ูู ูุงุฌูุฉ ูููุน ุชููุชุฑ:

- ูููู ูุญูู ุงูุจุญุซ.
- ูููู ูููุงุฆูุฉ ุงูุฑุฆูุณูุฉ (Navigation).
- ูููู ุงูุชุบุฑูุฏุฉ.
- ูููู ุงููุณุชุฎุฏููู ุงูููุชุฑุญูู.
- ...

ูู ูุงุญุฏ ูู ูุฐู ุงูููููุงุช **ูุณุชูู ุจุฐุงุชู**ุ ููููู **ูููู ูุฅุนุงุฏุฉ ุงุณุชุฎุฏุงูู** ูู ุฃู ููุงู ุจุดุฑุท ุฅูุฏุงุฏู ูุฅุนุฏุงุฏู ุจุงูุจูุงูุงุช ุงูุชู ูุญุชุงุฌ ุฅูููุง.

## ููู ุจุฏุฃ ุงูุญุฏูุซ ุนู ููููุงุช ุงูููุจ

ุจุฏุฃ ุงููุงุฆููู ุนูู ุงููุชุตูุญุงุช ุงููุจูุฑุฉ ูุซู ูุฑูู ููุงูุฑูููุณุ ููู ุฎูููู ููุธูุฉ W3Cุ ููุฐ ููุช ุทููู ูุณุจูุง ูู ุงูุชูููุฑ ุจุจูุงุก ูุฏุนู ูุงุฌูุฉ ุจุฑูุฌูุฉ ุชุณูุญ ููุทูุฑู ุงูููุจ ุจุจูุงุก ููููุงุช ููุจ ุจุฏูู ุงูุญุงุฌุฉ ุฅูู ุฃู ููุชุจุงุช ุฃู ุญููู ุทุฑู ุซุงูุซ. ููุฏ ูุงู ุฃุญุฏ ูููุฏุณู ุฌูุฌู ูุฏุนู [ุฃูููุณ ุฑุงุณู](https://infrequently.org/about-me/) ุฃูู ูู ูุงู ุจุชูุฏูู ูุฐู ุงูููุฒุฉ ูุงูุชุญุฏุซ ุนููุง ูู ูุคุชูุฑ Fronteers Conference ุนุงู 2011 ุจูุฏููุฉ ุฃูุณุชุฑุฏุงู.

ุจุนุฏ ูุฐุง ุงููุคุชูุฑ ุจุฃุฑุจุนุฉ ุฃุนูุงู ูุงู ูุทูุฑู ุฌูุฌู ุจุฅุตุฏุงุฑ **ููุชุจุฉ Polymer** ุงูุชู ุชุณุงุนุฏ ุงููุทูุฑูู ุนูู ุจูุงุก ููููุงุช ููุจ ุจุทุฑููุฉ ููุญุฏุฉ ูุน ุชูููุฑ Polyfills ูุถูุงู ุชูุงูููุฉ ุฌูุฏุฉ ูุน ูุฎุชูู ุงููุชุตูุญุงุช ุงููุจูุฑุฉ.

ูุดุฑูุน Polymer ูุง ูุฒุงู ูุงุฆูุง ูุญูุง ุฅูู ููููุง ูุฐุง (ูุตู ุฅูู ุงูุฅุตุฏุงุฑ 3) ููุงุฒุงู ูุณุชุฎุฏูุง ูู ุฃูุจุฑ ูุดุงุฑูุน ุฌูุฌู ูุนูู ุฑุฃุณูุง **ูููุน ููุชููุจ**. ูู ุงูุฑุบู ูู ุชูุฏู ุงูุนูู ุจุดูู ูุจูุฑ ุนูู **Web Components API** ููุตูููุง ููุฑุญูุฉ ูุชูุฏูุฉ ุฌุฏุง ูู ุงูุฅุณุชูุฑุงุฑ ูุงูุฏุนู ุงููุงูู ูู ูุฎุชูู ุงููุชุตูุญุงุช ุงููุจูุฑุฉ.

![ุฏุนู ุงููุชุตูุญุงุช ูููููุงุช ุงูููุจ](../images/web-components-browser-support.png)

### ุฏูุฑ React.js

ูู ููู ูุทูุฑู ุงูููุจ ุนูู ุงุณุชุนุฏุงุฏ ููุฅูุชุธุงุฑ ูู ูุฐุง ุงูููุช ุงูุทููู ุญุชู ุชุตู ูุงุฌูุฉ Web Components API ุฅูู ุงูุฅุณุชูุฑุงุฑ ุงููุซุงูู ููุฅุนุชูุงุฏ ุนูููุง ูู ูุดุงุฑูุน ุญููููุฉ. ูุฐูู ุณุงุฑุน ุนุฏุฏ ูููู ุฅูู ุจูุงุก ููุชุจุงุช ุทุฑู ุซุงูุซ ุญุงููุช ุงุณุชูุณุงุฎ ููููู ููููุงุช ุงูููุจ ุนูู ุนูู ุทุฑููุชูุง ุงูุฎุงุตุฉุ ููุงู ุฃูู ูู ุชุฌุณุฏุช ุฌููุฏูู ูู ูุฐุง ุงูุดุฃู ูุทูุฑู **ููุณุจูู** ุงูุฐู ูุงููุง ุจุจูุงุก ููุชุจุฉ ูุฏุนู ูุจูุงุก ูุงุฌูุงุช ุงููุณุชุฎุฏู ูู ููุตุฉ ููุณุจูู ุจุงูุฅุนุชูุงุฏ ุนูู ููุฑุฉ ููููุงุช ุงูููุจ. ูุฐู ุงูููุชุจุฉ ู ุจุนุฏ ุงูุฅุณุชุนุงูุฉ ุจูุง ูุณููุงุช ุฏุงุฎููุง ู ุชู ุฌุนููุง ููุชุจุฉ ููุดุฑูุนุง ููุชูุญ ุงููุตุฏุฑ ูู ุฃูุงุณุท ุนุงู 2013 ุชุญุช ูุณูู **ุฑูุงูุช** ุฃู [React](/web-development/javascript/react-javascript-library/).

[React](/web-development/javascript/react-javascript-library/) ุญููุช ูุง ูู ูุณุชุทุน ุชุญูููู ูุดุฑูุน Polymer ุจููุชูุง ุงูุชุจุงู ุงููุทูุฑูู ุญูู ุงูุนุงูู ุฅูู ููุท ูููุฑุฉ ุงู Componentsุ ูุญููุช ุจุฐูู ุซูุฑุฉ ุญููููุฉ ูู ุทุฑููุฉ ุจูุงุก User Interfaces ุงูุฎุงุตุฉ ุจูุดุงุฑูุน ุงูููุจ.

ุจุนุฏ React ูุฑุนุช ููุชุจุงุช ูุฃุทุฑ ุนูู ุฃุฎุฑู ูุชุญุฏูุซ ููุณูุง ูุงูุฅูุชูุงู ูุฅุนุชูุงู ููุฑุฉ ุงูููููุงุช ูุนูู ุฑุฃุณูุง [Angular](/tags/angular/) ู [Vue.js](/tags/vuejs/).

ุงููุงุณู ุงููุดุชุฑู ุจูู ูู ูุฐู ุงูููุชุจุงุช (ุจุงุณุชุซูุงุก Polymer) ุฃููุง ูุง ุชุนุชูุฏ ุจุฃู ุดูู ุนูู ูุงุฌูุฉ Web Components APIุ ุจู ูุฌุฏ ูู ูููุง ุทุฑููุชู ุงูุฎุงุตุฉ ูุชูููุฐ ูุชุฌุณูุฏ ุชูู ุงูููุฑุฉ. ุฑูุงูุช ุนุจุฑ ููุฒุฉ JSXุ ูAngular ู Vue ุนุจุฑ ูุธุงู ููุงูุจ ุฃู Templates.

## Web Components API

ุฅุฐู ููููุง ูู ุฎูุงู ูุง ุณุจู ุฃู ูู ูููู ููุจ ุนุจุงุฑุฉ ุนู ูุญุฏุฉ ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุณุคููุฉ ุนู ูููุฉ ุฃู ููุงู ูุญุฏุฏุฉุ ููู ูููู ูููู ุจุชุบููู (Encapsulate) ุญุงูุชู ุงูุฎุงุตุฉ ูุฃููุงุฏ HTML (ุงููุงูุจ) ู Css ุงูุฎุงุตุฉ ุจู. ูุฐุง ูุง ุชุญุงูู ููููุงุช ุงูููุจ ุงูุฃุตููุฉ ูุนูู ูู ุฎูุงู ูุงุฌูุฉ Web Components ูุฐูู ุจุงูุฅุนุชูุงุฏ ุนูู **3 ุฃุฏูุงุช ุฃู ุฑูุงุฆุฒ ุฃุณุงุณูุฉ** ููู:

- Custom Elements.
- Shadow DOM.
- Templates.

ุณูุดุฑุญ ูู ูุงุญุฏ ูููุง ุญุชู ูููู ุงูุฌููุน ุทุฑููุฉ ุนูู **ููููุงุช ุงูููุจ** ูููููุฉ ุชูุงุบู ูุฐู ุงูุฃุฌุฒุงุก ุงูุซูุงุซุฉ ูุน ุจุนุถูุง ุงูุจุนุถ.

### 1. Custom Elements

ููุง ูุฏู ุนููู ุงูุฅุณูุ ูุฅู ููุฒุฉ Custom Elements ุชููููุง ูู ุฅูุดุงุก ุนูุงุตุฑ HTML **ูุฎุตุตุฉ** ุฅูู ุฌุงูุจ ุงูุนูุงุตุฑ ุงูุฃุตููุฉ ูุงูุฃุณุงุณูุฉ ุงูุชู ูุนุฑููุง ุฌููุนุง ูุซู `div`ุ `p` ู `span`. ููุดุชุฑุท ูู ุฃุณูุงุก ุงูุนูุงุตุฑ ุงููุฎุตุตุฉ ุฃู ุชุชุถูู ุงูุนุงุฑุถุฉ ุงูุฃูููุฉ `-` ูุชูููุฒูุง ุนู ุงูุนูุงุตุฑ ุงูุฃุตููุฉ ูู HTML ุงูุชู ุชุฎูู ุฃุณูุงุคูุง ูู ุฃูุฉ ุฑููุฒ ุบูุฑ ุงูุญุฑูู.

ูุนูู ุณุจูู ุงููุซุงู **ูุง ูุณูุญ** ุจุงุณุชุนูุงู ุงูุฅุณู ุงูุชุงูู ูุฃู ุนูุตุฑ ูุฎุตุต ูู HTML:

```html
<title>I'm a title</title>
```

ุจูููุง ูุณูุญ ุจุงุณุชุฎุฏุงู ุงุณู ูู ูุฐุง ุงููุจูู:

```html
<custom-title>I'm a title</custom-title>
```

ูุฅูุดุงุก ุนูุตุฑ ูุฎุตุต ูุฌุจ ุนูููุง ุงูุงุณุชุนุงูุฉ ุจููุงุณ **ูุฑุซ** ุจุนุถ ุงูุฎุตุงุฆุต ูุงููุธุงุฆู ูู ุงูููุงุณ ุงูุฃุตูู `HTMLElement`.

ุฅูููู ุงูุทุฑููุฉ:

```js
class CustomTitle extends HTMLElement {
  connectedCallback() {
    this.innerHTML = `<h1>I am a title</h1>`;
  }
}

customElements.define('custom-title', CustomTitle);
```

ููุงุญุธ ุฃููุง ูููุง ุจุชุนููู ูุญุชูู ุงููููู `CustomTitle` ุฏุงุฎู ุงููุธููุฉ `connectedCallback()` ูุงูุชู ุชุนุชุจุฑ ูู **ูุธุงุฆู ุฏูุฑุฉ ุญูุงุฉ** ููููุงุช ุงูููุจ ุงูุฃุตููุฉุ ุนูู ุดุงููุฉ Lifecycle Methods ุงูููุฌูุฏุฉ ูู ููุชุจุงุช ูุฃุทุฑ ุนูู ูุซู React ุฃู Vue.

ูุฐู ุงููุธููุฉ ูุชู ุชูููุฐูุง ูู ุงูููุช ุงูุฐู **ูุชู ููู ุชุฑููุจ ุงููููู ูู ุดุฌุฑุฉ DOM**ุ ููู ูุฑุงุฏู ููุธููุฉ `mounted` ูู [Vue](/web-development/javascript/3-reasons-to-choose-vuejs-framework/) ุฃู `ComponentDidMount` ูู React.

ูู ูุฐู ุงููุธููุฉ ูููููุง ูุฐูู ุงูููุงู ุจุทูุจุงุช ุฃุฌุงูุณ ูุฌูุจ ุงูุจูุงูุงุช ุงูุชู ุฑุจูุง ุณูุญุชุงุฌูุง ุงููููู (Data Fetching).

ูู ุงูุณุทุฑ ุงูุฃุฎูุฑ ูููุง ุจุฅุนุทุงุก ุงุณู **ูููุณู** ุงูุฐู ุณูุนุจุฑ ุนู ุงููููู `CustomTitle` ูุฑุจุทููุง ูุนุง ุนู ุทุฑูู ุงููุธููุฉ `customElements.define()`.

ูู ูุฐุง ุงููุซุงู ุงุฎุชุฑูุง ุงูุฅุณู `custom-title`.

ููุงู ูุธุงุฆู ุฃุฎุฑู ูุฏูุฑุฉ ุญูุงุฉ ููููุงุช ุงูููุจ ูุซู:

- `disconnectedCallback()`: ููุง ูุชุถุญ ูู ุงุณููุง ุชููุฐ **ุนูุฏูุง ูุชู ุฅุฒุงูุฉ ุงููููู ูู ุดุฌุฑุฉ DOM**. ูุชุณุชุฎุฏู ูุชูุธูู (Clean up) ุงูุฐุงูุฑุฉ ูู ุจุนุถ ุงูุฃููุฑ ุงูุชู ุชุฎุต ุงููููู ุงููุญุฐูู ูุซู ุงูุฃุญุฏุงุซ ูุบูุฑูุง...
- `attributeChangedCallback()`: ูุฐู ุงููุธููุฉ ูุชู ุงุณุชุฏุนุงุคูุง **ูู ูู ูุฑุฉ ูุชู ูููุง ุฅุฌุฑุงุก ุชุบููุฑ ุนูู ูุณุชูู ุฅุญุฏู ุตูุงุช (Attributes) ุงูุนูุตุฑ**. ูุฐุง ุงูุชุบููุฑ ูุฏ ูููู ุฅุถุงูุฉ ุตูุฉ ุฌุฏูุฏุฉุ ุญุฐููุง ุฃู ุชุบููุฑ ูููุชูุง. ุงูุตูุงุช ุงูุชู ุณูุชู ุชุชุจุนูุง ูู ุงููุฐููุฑุฉ ูู ุงููุตูููุฉ ุงูุชู ูุชู ุฅุฑุฌุงุนูุง ูู ุทุฑู ุงููุธููุฉ ุงูุณุงููุฉ `observedAttributes()` ุฏุงุฎู ููุงุณ ุงูุนูุตุฑ.

<div class="filename">Example</div>

```js
class CustomElement extends HTMLElement {
  static get observedAttributes() {
    return ['attribute'];
  }

  attributeChangedCallback(attrName, oldValue, newValue) {
    // ...
  }
}
```

ูุจุฐูุฑ ุตูุงุช ุงููููู (Attributes) ูุฅูู ูููู ุงููุตูู ุฅูููุง ุนู ุทุฑูู ุงููุธููุฉ `getAttribute(attrName)` ูู ุฏุงุฎู ููุงุณ ุงููููู ุจูุฐู ุงูุทุฑููุฉ:

```js
this.getAttribute('example');
```

ุงูุตูุงุช ุฃู ุงูุฎุตุงุฆุต ูู ุงููุฒุงูุง ุงูุฃุณุงุณูุฉ ููู ูููู ููุจ ูุนู ุทุฑูููุง ูููู ูููุณุชุฎุฏู ุฃู ูุชุญูู ุจู ููุนูุฏ ุงุณุชุฎุฏุงููุง ูู ุฃูุงูู ูุฎุชููุฉ.

### 2. Shadow DOM

ุนูุฏูุง ูุฑูุฏ ุชุบุทูุฉ (Encapsulate) ุฃููุงุฏ ุฌุงูุง ุณูุฑูุจุช ููุฐูู CSS ุงูุฎุงุตุฉ ุจุงูุนูุตุฑ ุฃู ุงููููู ูุฅููุง ูููู ุจุฑุจุทู ุจูุง ูุณูู Shadow DOM. ูุฐุง ุงูุฃุฎูุฑ ูููู ุงุนุชุจุงุฑู ุจูุซุงุจุฉ `iframe` (ุชูุฑูุจุง) **ูุง ูููู ุงููุตูู ุฅููู ูุงูุฏุฎูู ุฅููู ุฅูุง ูู ุฎูุงู ุงููููู ููุณู**.

ูู ุงููุซุงู ุงูุฃููุ ุญูุซ ุงูุนูุตุฑ `custom-title`ุ ููุงุญุธ ุฃููุง ูููุง ููุท ุจุฅุถุงูุฉ ุงูุนูุตุฑ `h1` ุฅูู `custom-title` ุจุดูู ูุจุงุดุฑ ุฏูู ุงููุฑูุฑ ุนุจุฑ ุฃู `ShadowDOM`ุ ูุจุงูุชุงูู ููุญุชูู ุงูุนูุตุฑ **ุบูุฑ ูุบุทู ูุบูุฑ ูุญูู** ููููู ุงููุตูู ุฅููู ูู ุฃู ููุงู ูู ุงูุตูุญุฉุ ุณูุงุก ูู ุทุฑู ุฌุงูุง ุณูุฑูุจุช ุฃู CSS.

![ููููุงุช ุงูููุจ](../images/custom-title-web-component.png)

ูู ูููุง ุจุนูู `document.querySelector('h1')` ูู ุฃู ููุงู ูู ููุฏ ุฌุงูุง ุณูุฑูุจุช ูุณูููููุง ุงูุญุตูู ูุณุฎุฉ ูู ุนูุฏุฉ `h1`ุ ููุฐูู ุณูุชุฃุซุฑ ุงูุนููุงู ุจุฃู ุชูุณูู CSS ูููู ุจุฅุถุงูุชู ููุตูุญุฉ ูุงุฏุงู ูุณุชูุฏู ุงููุณู `h1`.

ุฅุฐู ุงูุญู ูู ุฃู ูููู ุจุฑุจุท ุงูุนูุตุฑ ุงููุฎุตุต ุจุดุฌุฑุฉ DOM ุฎุงุตุฉ ุจู ุชุณูู ููุง ูููุง ุจ **Shadow DOM**ุ ููููู Custom Element ูู ุงููุญูุฏ ุงููุงุฏุฑ ุนูู ุนูู ุงูุชุนุงูู ูุนูุง. ููุฐุง ุณูุญูู ุฅุญุฏู ุบุงูุงุช ููููุงุช ุงูููุจ ุงููููุฉ ููู ุฃู ูููู ููู ูููู ุญุงูุชู ุงูุฎุงุตุฉ ููุฐุง ุชูุณููู ุงูุฎุงุต ุงูุฐู ูุง ูุชุฃุซุฑ ุจู ุณูู ุนูุงุตุฑ HTML ุงูููุฌูุฏุฉ ุฏุงุฎู ูุทุงู ูุชุญุช ูููุฐ ุงููููู.

ุงูุทุฑููุฉ ุจุณูุทุฉ ููุบุงูุฉ ููู ูุงูุชุงูู:

```js{2-5,7}
class CustomTitle extends HTMLElement {
  constructor() {
    super();
    this.attachShadow({ mode: 'open' });
  }
  connectedCallback() {
    this.shadowRoot.innerHTML = `<h1>I am a title</h1>`;
  }
}

customElements.define('custom-title', CustomTitle);
```

ุฑุจุทูุง ุงูุนูุตุฑ `CustomTitle` ุจ Shadow DOM ุนู ุทุฑูู ุงููุธููุฉ `attachShadow` ุงูุชู ูุฑุซูุง ูู ุงูููุงุณ ุงูุฃุตูู `HTMLElement`. ุจุนุฏ ุฐูู ูููููุง ุงูุชุนุงูู ูุน ูุงูุฉ ุงูุนูุฏ ูุงูุนูุงุตุฑ ุงูุชู ุชุฏุฎู ูู ูุทุงูู ุจุงูุฅุนุชูุงุฏ ุนูู ุงูุฎุงุตูุฉ `this.shadowRoot` ุงูุชู ุงุณุชุฎุฏููุงูุง ูู ูุซุงููุง ูุฅุถุงูุฉ ุงูุนููุงู `h1` ุฅูู ุงูุนูุตุฑ ุงููุฎุตุต `custom-title`.

![Web Components - Shadow DOM](../images/custom-title-web-component-shadow-dom.png)

ุงูุขู ุฅุฐุง ูููุง ุจุชูููุฐ `document.querySelector('h1')` ูู ูุฐู ุงูุตูุญุฉ ูุณูุญุตู ุนูู ุงููููุฉ `null` ูุฃู ุงููุงุฆู `document` ููุณ ูู ุงูุญู ูู ุงููุตูู ุฅูู `h1` ุงูููุฌูุฏ ุฏุงุฎู Shadow DOM ุงูุชุงุจุน ููุนูุตุฑ `custom-title`.

> ููุฐุง ููุช ูู ุงูุจุฏุงูุฉ ุฅู ุณููู Shadow DOM ูุดุจู ุฅูู ุญุฏ ูุง ุณููู ูุณู `iframe` ุงูุฐู ูุง ูููููุง ุงููุตูู ุฅูู ูุญุชูุงู ุจูุงุณุทุฉ ุฌุงูุง ุณูุฑูุจุช ุฅูุง ูู ุฏุงุฎู `iframe` ููุณู (ูุจุฏุฃ ุงูุชุบุทูุฉ ุฃู Encapsulation).

ููู ูุชููู ูู ุงููุตูู ุฅูู `h1` (ูู ุฏุงุฎู `CustomTitle`) ุจูุงุณุทุฉ DOM API ูุฌุจ ุนูููุง ุฃููุง ุงููุฑูุฑ ุนุจุฑ Shadow DOM ูุฐูู ุจุงุณุชุนูุงู ุงูุฎุงุตูุฉ `this.shadowRoot`:

```js
this.shadowRoot.querySelector('h1');
```

ุงูุขู ุณูุนุชูุฏ ุนูู ููุฒุฉ ููุจุฏุฃ Encapsulation ุงูุฐู ูููุฑ ููุง Shadow DOM ููู ูููู ุจุฅุถุงูุฉ ุชูุณูู CSS ุฎุงุต ุจูููููุง.

ุณูุณุชุนูู ูู ูุฐุง ุนูู ุงูุถูุน ุงูุซุงูุซ ูู ุณูุณูุฉ ุงูุฃุถูุงุน ุงูุซูุงุซุฉ ุงูุชู ุชุดูู ููุฉ ููููุงุช ุงูููุจ: ููุฒุฉ **Templates**.

### 3. Templates

ูู ุจูู ุงููุณูู ุงูุฌุฏูุฏุฉ ุงูุชู ุชููุฑุช ููุง ูุน ุฅุตุฏุงุฑ **HTML 5** ูุณู `<template>`. ูุฐุง ุงููุณู ูุนุธููุง ูู ูุณุชุฎุฏูู ููู ูุณูุน ุนูู ูู ูุจูุ ูููู ูุน ุชูุฏู ุงูุนูู ุนูู ุชูููุฉ Web Components ูุชุทูุฑูุง ุฃุตุจุญ ุฌุฒุกูุง ุฃุณุงุณูุง ูู ุงูุชููููุฉ ูุจุงุช ุญุถูุฑู ุฃูุซุฑ ููุฉ.

ูููููุง ุงููุณู `<template>` ูู ุฅุถุงูุฉ **ููุงูุจ HTML** ูุตูุญุฉ ุงูููุจ ุฏูู ุนุฑุถ ูุญุชูู ุชูู ุงูููุงูุจ. ุฐูู ุงููุญุชูู ูู ูุชู ุนุฑุถู ุญุชู ููุฑุฑ ุฌุงูุง ุณูุฑูุจุช ุฐูู.

ุฅุฐู ุนูุฏูุง ูุถูู ุงููุงูุจ ุงูุชุงูู ุฅูู ุตูุญุชูุง ููู ูุชุบูุฑ ุฃู ุดูุกุ ุญูุซ ุฃู ูุงุฑุฆ ููุญูู HTML ูู ูุชุตูุญูุง ุณูุชุฌุงููู ูุงุฏุงูุช ุงูุฃูุงูุฑ ูู ุชุฃุชู ูู **ุฌุงูุง ุณูุฑูุจุช** ุจุนุฑุถ ูุง ููู.

```html
<template id="template">
  <h1>I am a title</h1>
</template>
```

ุจุงูุนูุฏุฉ ุฅูู ูุซุงููุงุ ุณูุทูุจ ูู ุงูุนูุตุฑ `CustomTitle` ุฃู ูุนุฑุถ ูุญุชูู ุงููุงูุจ `#template` ุนูุถุง ุนู ุงุณุชุฎุฏุงู ุงูุฎุงุตูุฉ `innerHTML`.

```js{7,8,9}
class CustomTitle extends HTMLElement {
  constructor() {
    super();
    this.attachShadow({ mode: 'open' });
  }
  connectedCallback() {
    const template = document.getElementById('template');
    const node = document.importNode(template.content, true);
    this.shadowRoot.appendChild(node);
  }
}

customElements.define('custom-title', CustomTitle);
```

ูููุง ุจุฅูุดุงุก ุนูุฏุฉ (Node) ุฌุฏูุฏุฉ ุจุงูุฅุนุชูุงุฏ ุงููุงูุจ `#template` ุซู ุฃุถููุงูุง ู Shadow DOM ุจูุถู ุงููุธููุฉ `appendChild`.

ุงูุขู ุฅุฐุง ุฃููููุง ูุธุฑุฉ ุนูู ุงูุตูุญุฉ ูู ูุชุตูุญูุง ุณูุฌุฏ ููุณ ุงููุชูุฌุฉ ููู ููุงุญุธ ุฃู ูุฑู.

#### ุฅุถุงูุฉ ุชูุณูู CSS ุฅูู ุงููุงูุจ

ุจูุงุณุทุฉ ููุงูุจ HTML ูููููุง ุฅุถุงูุฉ ุชูุณููุงุช ูุฃููุงุฏ CSS **ุฎุงุตุฉ ุจููููุงุชูุง** ูุน ุถูุงู ุฃูุง ุชุชุฃุซุฑ ุจููุฉ ุนูุงุตุฑ ุงูุตูุญุฉ ุจูุง.

ุงูุทุฑููุฉ ุณููุฉ ุฌุฏุง:

```html
<template id="template">
  <style>
    h1 {
      color: #ff0000;
    }
  </style>
  <h1>I am a title</h1>
</template>
```

ูุงุญุธูุง ุฃููุง ูููุง ุจุฅุถุงูุฉ ุงูุชูุณูู ุจุงุณุชุนูุงู ุงููุณู `<style>` ููุง ููุนู ุฏุงุฆูุง ุนูุฏ ุฅุถุงูุฉ ุงูุชูุณููุงุช ุฅูู ุฃู ุตูุญุงุช ููุจ. ุงููุฑู ูุฐู ุงููุฑุฉ ุฃููุง ูุนููุง ุฐูู ุฏุงุฎู ูุงูุจ HTMLุ ูุจูุถู Shadow DOM ูู ูุชุฃุซุฑ ุฃู ุนูุตุฑ `h1` ุขุฎุฑ ุฎุงุฑุฌ ูููููุง ุจุงูููู ุงูุฃุญูุฑ `color: #ff0000`.

#### ุชุนุฏูู ุจุณูุท (ุฅุถุงูุฉ slot)

ุงูุดูุก ุงููุคูุฏ ุฃู ุงููุซุงู ุงูุฐู ุงุฎุชุฑุชู ููุฐุง ุงูุฏุฑุณ ู ูููู `CustomTitle` ู ููุณ ุฃูุถู ูุซุงู ูู ุงูุนุงูู ๐ ูุณุช ููููุง ุจูุง ูููู ูู ููุช ุฅุนุฏุงุฏ ูุฐุง ุงูุฏุฑุณ. ูุฐูู ุณุฃุฌุฑู ุนููู ุชุนุฏููุง ุจุณูุทุง ูุนูู ูููู ุฃูุถู ุจูููู.

ูุง ุณุฃููู ุจู ูู ุฃููู ุณุฃุทูุจ ูู ูููููุง ุฃู ูุทุจุน ุงููุต ุงูุฐู ููุฑุฑู ุจูู ุงููุณููู `<custom-title>` ู `</custom-title>` ุนูุถ ุทุจุงุนุฉ ุงููุต ุงูุฌุงูุฒ `I am a title`. ูุฐุง ุณูููู ุนูููุง ุฃูุซุฑุ ุฃููุณ ูุฐูู ุ ๐ค

```html
<custom-title>Some title</custom-title>
```

ูููููุง ุงูููุงู ุจูุฐู ุงููููุฉ ุจุจุณุงุทุฉ ุดุฏูุฏุฉ ุจูุถู ุงููุณู `<slot>` ุงูุฐู ูููููุง ุฅุถุงูุชู ุฏุงุฎู ูุงูุจ ุงููููู ุนูู ูุฐุง ุงูุดูู:

```html{7}
<template id="template">
  <style>
    h1 {
      color: #ff0000;
    }
  </style>
  <h1><slot></slot></h1>
</template>
```

ุฃุธู ุฃู ุงูููุถูุน ูุงุถุญ ููุงูุฉุ ูููููู **Slots** ููุฌูุฏ ููุนุฑูู ููุฐ ูุฏุฉ ูู ุฃุทุฑ ุนูู ุฌุงูุง ุณูุฑูุจุช ูุบูุฑ ุฌุงูุง ุณูุฑูุจุช.

## ูุซุงู ูููู ุงูุนุฏุงุฏ

ูุซุงู ุงูุนุฏุงุฏ ุฃู Counter ูู ุงููุซุงู ุงูุฐู ูุชู ุจู ุชูุฏูู ุฃุบูุจ ุฃุทุฑ ุนูู ุฌุงูุง ุณูุฑูุจุช (ุฅูู ุฌุงูุจ Todo List ุจุทุจูุนุฉ ุงูุญุงู ๐). ูุฐูู ูู ูุฎุฑุฌ ุนู ุงููุงุนุฏุฉ ูู ููุงูุฉ ูุฐุง ุงูุฏุฑุณุ ูุฃุดุงุฑู ูุนูู ุงูููุฏ ุงููุงูู ูุนุฏุงุฏ ุจุณูุท ุงุณุชุนููุช ููู ุนุฏุฏ ูู ูุฒุงูุง ููููุงุช ุงูููุจ ุงูุชู ุชุนูููุงูุง ูู ูุฐุง ุงูุฏุฑุณ.

```js
class theCounter extends HTMLElement {
  constructor() {
    super();
    this.attachShadow({ mode: 'open' });

    this.min = +this.getAttribute('min') || 0;
    this.max = +this.getAttribute('max') || null;

    this.count = this.min;

    // Binding
    this.increment = this.increment.bind(this);
    this.decrement = this.decrement.bind(this);
  }

  connectedCallback() {
    const template = document.getElementById('template');
    const node = document.importNode(template.content, true);
    this.shadowRoot.appendChild(node);
    // Buttons
    const incrementBtn = this.shadowRoot.querySelector('#increment');
    const decrementBtn = this.shadowRoot.querySelector('#decrement');

    incrementBtn.addEventListener('click', this.increment);

    decrementBtn.addEventListener('click', this.decrement);

    // Initial state
    this.refresh(this.count);
  }

  disconnectedCallback() {
    // Buttons
    const incrementBtn = this.shadowRoot.querySelector('#increment');
    const decrementBtn = this.shadowRoot.querySelector('#decrement');

    incrementBtn.removeEventListener('click', this.increment);

    decrementBtn.removeEventListener('click', this.decrement);

    // Initial state
    this.refresh(this.count);
  }

  increment() {
    this.count = !this.max
      ? this.count + 1
      : this.count < this.max
      ? this.count + 1
      : this.count;
    this.refresh(this.count);
  }

  decrement() {
    this.count = this.count > this.min ? this.count - 1 : this.count;
    this.refresh(this.count);
  }

  refresh(value) {
    this.shadowRoot.querySelector('#value').innerHTML = value;
  }
}

customElements.define('the-counter', theCounter);
```

ูููููู ููุงุญุธุฉ ุจุฃู ุงูุนุฏุงุฏ ููุจู ุฎุงุตูุชูู: `min` ู `max` ูููุง ููุง ูุชุถุญ ูู ุงุณููููุง ุงููููุฉ ุงูุฏููุง ูุงููููุฉ ุงููุตูู ููุนุฏุงุฏ. ุนูุฏูุง ูุง ูุชู ุชุนููู ุงูุฎุงุตูุฉ `min` ูุฅููุง ููุชุฑุถ ุจุฃู ูููุชูุง ุชุณุงูู `0` ุจูููุง ุงููููุฉ ุงูุฅูุชุฑุงุถูุฉ ู `max` ูู `null`.

ููุงุญุธ ูุฐูู ุฃููุง ุงุณุชุนููุง ุจุงููุธููุชูู `connectedCallback` ู `disconnectedCallback` ูุนูู Event Listening ูู ุงูุฃููู ูุงูุชุฎูุต ููู ูู ุงูุซุงููุฉ ููุง ุดุฑุญูุง ููุฐ ูุญุธุงุช.

ุงููุธููุชูู `increment()` ู `decrement()` ูุณุคููุชูู ุนู ุฒูุงุฏุฉ ูุฅููุงุต ูููุฉ ุงูุนุฏุงุฏ `this.count` ุจูุงุก ุนูู ูููุฉ ุงูุตูุชูู `min` ู `max`.

ุฃูุง ุงููุธููุฉ `refresh()` ุงูุชู ูุชู ุงุณุชุฏุนุงุคูุง ูู ุงูุจุฏุงูุฉ ูุจุนุฏ ูู ุนูููุฉ ููุฑ ุนูู ุฃุญุฏ ุฒุฑู ุงูุนุฏุงุฏ ููููุชูุง ูู ุชุญุฏูุซ Shadow DOM ูุฐูู ุจุชุบูุฑ ุงููููุฉ ุงููุตูุฉ ููุนูุตุฑ `span#value`.

ูุฐูู ูููุง ุจุนูู **Binding** ูููุธููุชูู `increment()` ู `decrement()` ูู `constructor`ุ ูุฐูู ูุถูุงู ุฃู ุงููุงุฆู `this` ูุคุดุฑ ุนูู ุงูููุงุณ `theCounter` ูููุณ ุนูู ุงูุญุฏุซ `click`. ูุทูุฑู ุฑูุงูุช ูู ูุฌุฏูุง ุตุนูุจุฉ ูู ููู ูุฐู ุงููุณุฃูุฉ ูุฃููุง ููุฌูุฏุฉ ุจููุณ ุงูุดูู ูู React Class Components ๐

ูุงูุจ ุงูุนุฏุงุฏ ุณูููู ุดูุฆุง ูู ูุฐุง ุงููุจูู :

```html
<template id="template">
  <style>
    button {
      border: none;
      background: #000;
      color: #fff;
      padding: 10px 18px;
      font-size: 20px;
      outline: 0;
    }
    span {
      font-size: 24px;
      display: inline-block;
      margin: 0 10px;
    }
  </style>
  <button id="increment">+</button>
  <span id="value"></span>
  <button id="decrement">-</button>
</template>
```

ุฃูุง ุงูุนูุตุฑ `theCounter` ููุชู ุงุณุชุฎุฏุงูู ูู ุตูุญุฉ ุงูููุจ ุจูุฐู ุงูุทุฑููุฉ:

```html
<the-counter min="5" max="50"></the-counter>
```

## ุจูุฆุฉ ููููุงุช ุงูููุจ

ุจูุฆุฉ ููููุงุช ุงูููุจ ุฃู **Web Components** ุชุตุจุญ ุบููุฉ ูููุง ุจุนุฏ ูููุ ูุดูุฆุง ูุดูุฆุง ูุชู ุงูุญุฏูุซ ุนููุง ูู ุฃูุณุงุท ูุทูุฑู ุงูููุจ.

ุชูุฑูุจุง ุฌููุน ุฃุทุฑ ุนูู ุฌุงูุง ุณูุฑูุจุช ุงููุนุฑููุฉ ุจูุง ูููุง ุฑูุงูุชุ Vue ู ุฃูุฌููุงุฑ ุชุฏุนู ููููุงุช ุงูููุจุ ุฅุฐ ูููู ุงุณุชูุฑุงุฏ ูููู ููุจ ูุณุชูู ูุงุณุชุฎุฏุงูู ูุน ุฃูุฌููุงุฑ ูุซูุง ุจุณูููุฉ ููุน ูููู ูู ุงูุฅุงุนุฏุงุฏุงุช.

ุฅุถุงูุฉ ุฅูู ุฐููุ ููุงู ููุชุจุงุช ุชููููุง ูู ุจูุงุก ููููุงุช ููุจ ุจูุนุงููุฉ ุฃูุจุฑ ูุฐูู ุจุชูููุฑ ูุงุฌูุงุช ุจุฑูุฌูุฉ ูู ุงููุชูุงูู. ูุฐุง ูุง ุชูุนูู ููุชุจุฉ [Stencil](https://stenciljs.com/) ุนูู ุณุจูู ุงููุซุงู ุงูุชุงุจุนุฉ ููุฑูู [Ionic](https://ionicframework.com/docs). ูุฐู ุงูููุชุจุฉ ุชููููุง ูู ุจูุงุก ููููุงุช ูุน ุฏุนู [ูุชุงูุจ ุณูุฑูุจุช](/what-is-typescript) ูุตูุบุฉ JSX ููุฃููุง ูู ูุดุฑูุน React.

### ูุซุงู ููููู ููุจ ูู Stencil

```jsx
import { Component, Prop } from '@stencil/core';

@Component({
  tag: 'my-first-component'
})
export class MyComponent {
  // Indicate that name should be a public property on the component
  @Prop() name: string;

  render() {
    return <p>Hello {this.name}</p>;
  }
}
```

ุงููููู ุฃุนูุงู ูููููุง ูู ุทุจุงุนุฉ ุงุณููุง ูุจุฌุงูุจู ููุนู ูููุฉ `Hello`. ุงูุฅุณู ูุชู ุชูุฑูุฑู ูููููู ุนูู ุดูู ุฎุงุตูุฉ ุงุณููุง `name` ูู ููุน `string`.

ุงููุณู ุงูุฎุงุต ุจุงููููู ูู `my-first-component` ูููุง ุชูุงุญุธูู ูุชู ุชูุฑูุฑู ุนุจุฑ ุงูููุฒุฎุฑูู `@Component` (ูุทูุฑู ุฃูุฌููุงุฑ ูู ุฃูุชู ููุง ุ ๐)

```html
<my-first-component name="John"></my-first-component>
```

**Stencil.js** ุชููุฑ [ุชูุงูููุฉ ููุชุงุฒุฉ](https://stenciljs.com/docs/overview) ูุน **ุฃูุฌููุงุฑ**ุ **ุฑูุงูุช** ููุฐูู **Vue.js** ููุฐุง ูุง ููุณุฑ ููู ุงุณุชุทุงุน ูุฑูู [ุฅุทุงุฑ ุงูุนูู Ionic](/web-development/javascript/introduction-to-ionic2/) ุฏุนู ูู ูุฐู ุงูุชูููุงุช ูู ูุฏุฉ ูุฌูุฒุฉุ ุญูุซ ุฃููู ูุนุชูุฏูู ุนูู Stencil ูุจูุงุก ููููุงุช ููุจ ุฃุตููุฉ ุจุงูุฅุนุชูุงุฏ ุนูู ููุฉ ุงููุชุตูุญ ูููุณ ููุฉ ุฃู ุฅุทุงุฑ ุนูู ููุง ูุงู ุนููู ุงูุญุงู ูู ุงูุฅุตุฏุงุฑ 1 ูู ุงููููู ุญูููุง ูุงู ุงูุฅุนุชูุงุฏ ููุท ุนูู AngularJs.

## ูู ุงูุฎุชุงู

ูุง ุดู ูู ููู **Web Components** ูู ุฃูู ุงููููุฒุงุช ุงูุชู ุฃุถููุช ูููุชุตูุญุงุช ูู ุงูุณููุงุช ุงูุฃุฎูุฑุฉุ ูุฃุนุชูุฏ ุจุฃูู ุณูููู ููุง ุดุฃู ูุจูุฑ ูู ุณูุฉ ุฃุฏูุงุช ูุทูุฑู ุงูููุจ ูู ุงูุณููุงุช ุงูููููุฉ ุงูููุจูุฉ.

ูู ุฌูุฉ ุฃุฎุฑู ุฃุฑู ุจุฃู ุญุฏูุซ ุงูุจุนุถ ุนู ููู ูุฐุง ุงููุดุฑูุน ูุดูู ุฎุทุฑุง ุนูู ููุชุจุงุช ุจูุงุก ูุงุฌูุงุช ุงูููุจ ุงูุฃูุงููุฉุ ูุซู React ู Vueุ ุฃุฑู ุจุฃูู ุญุฏูุซ ุณุงุจู ูุฃูุงูู ูููู ุชูู ุงูููุชุจุงุช ุชููุฑ ูุฒุงูุง ุฃูุจุฑ ูู ูุฌุฑุฏ **ุจูุงุก ููููุงุช ุงูููุจ**ุ ูููุง ูุชุญุฏุซ ูุซูุง ุนู ููุฒุฉ ุฅุฏุงุฑุฉ ุญุงูุฉ ุงูุชุทุจูู (State Management) ุงูุชู ุชุดูู ุฅุญุฏู ุฃูู ุงูููุงุถูุน ูุงูููุงุท ุงูุชู ุชุดุบู ุจุงู ูุทูุฑู ุงูููุจ ูู ุฃูุงููุง ูุฐู.

ุฃูุฏ ุฃู ุฃุณูุน ุขุฑุงุกูู ุจุงูุชุญุฏูุฏ ูู ูุฐู ุงูููุทุฉ ๐

**ูู ุชุนุชูุฏูู ุจุฃู Web Components API ุณุชุดูู ููุงูุณุฉ ูุน ููุชุจุงุช ูุฃุทุฑ ุนูู ุฌุงูุง ุณูุฑูุจุช ุฃู ุฃู ุงูุฌููุน ุณูุณุชููุฏูู ูู ุจุนุถูู ุงูุจุนุถ ููููุฑูุง ูููุทูุฑูู ุชูููุงุช ูุฃุฏูุงุช ุฃูุซุฑ ููุฉ ูููุงุกุฉ.**

ุดุงุฑููู ุฑุฃูู ููุณุชููุฏ ูู ุจุนุถูุง ุงูุจุนุถ ูุฐูู ๐

---

#### ูุฑุงุฌุน ูููุฉ

- [An Introduction to Web Components](https://css-tricks.com/an-introduction-to-web-components/)
- [Web components](https://javascript.info/web-components)
- [Using custom elements](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements)

<Author slug="aissa" />
